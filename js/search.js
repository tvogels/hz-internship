// Generated by CoffeeScript 1.6.3
(function(){$(function(){var e,t,n,r,i,s;e=$("#search-query");t=$("#search-form");n=$("#results");r=new $.es.Client({host:"localhost:9200"});s=$("#result-template").html();i=Handlebars.compile(s);Handlebars.registerHelper("ifvalue",function(e,t){return t.hash.value===e?t.fn(this):t.inverse(this)});return t.submit(function(t){var s;t.preventDefault();n.addClass("csspinner line no-overlay");s=r.search({index:"hzbwnature",type:"intentional_element",size:100,body:{query:{multi_match:{query:e.val(),fields:["skos:prefLabel^3","skos:definition","title^3","content","concerns_readable^2","context_readable^2"]}}}});return s.then(function(e){var t,r,s,o,u;r=e.hits.hits;n.html("");n.removeClass("csspinner");console.log(e.hits);u=[];for(s=0,o=r.length;s<o;s++){t=r[s];u.push(n.append($("<div>").html(i(t))))}return u})})})}).call(this);